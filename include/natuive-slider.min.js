function addClass_classList(b,a){b.classList.add(a)}function addClass_className(b,a){b.className+=" "+a}function addClass(b,a){if(b.classList){b.classList.add(a);addClass=addClass_classList}else{b.className+=" "+a;addClass=addClass_className}}function removeClass_classList(b,a){b.classList.remove(a)}function removeClass_className(b,a){b.className=b.className.replace(new RegExp("(^|\\b)"+a.split(" ").join("|")+"(\\b|$)","gi")," ")}function removeClass(b,a){if(b.classList){b.classList.remove(a);removeClass=removeClass_classList}else{removeClass_className(b,a);removeClass=removeClass_className}}function hasClass_classList(b,a){return b.classList.contains(a)}function hasClass_className(b,a){return new RegExp("(^| )"+a+"( |$)","gi").test(b.className)}function hasClass(b,a){if(b.classList){hasClass=hasClass_classList;return b.classList.contains(a)}else{hasClass=hasClass_className;return hasClass_className(b,a)}}function toggleClass(b,a){if(hasClass(b,a)){removeClass(b,a)}else{addClass(b,a)}}function transferClass(c,a,b){if(hasClass(c,b)){addClass(a,b)}}function eventElement_e(a){return a.target}function eventElement_window(a){return window.event.srcElement}function eventElement(a){if(a){eventElement=eventElement_e;return a.target}else{eventElement=eventElement_window;return window.event.srcElement}}var parseHTML=function(a){tmp=document.implementation.createHTMLDocument("Parsed");tmp.body.innerHTML=a;return tmp.body};function forEach(a,c){elements=(typeof a=="string")?qa(a):a;for(var b=0;b<elements.length;b++){c(elements[b],b)}}function addEventHandler(c,a,b){if(c.addEventListener){c.addEventListener(a,b,false)}else{if(c.attachEvent){c.attachEvent("on"+a,b)}}}function removeEventHandler(c,a,b){if(c.removeEventListener){c.removeEventListener(a,b,false)}else{if(c.detachEvent){c.detachEvent("on"+a,b)}}}function stopEvent(a){if(!a){if(typeof window.event=="undefined"){return}}if(typeof a=="undefined"){return false}a.cancelBubble=true;a.returnValue=false;if(a.stopPropagation){a.stopPropagation()}if(a.preventDefault){a.preventDefault()}return false}function thisIndex(c){if(!c){return}var a=c.parentNode.childNodes,d;var b=count=0;while((d=a.item(b++))&&d!=c){if(d.nodeType==1){count++}}return(count)}function parentByClass(b,a){while(b.parentNode&&!hasClass(b,a)){b=b.parentNode}if(typeof b.tagName=="undefined"){return false}return hasClass(b,a)&&b}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(b){var a=this.length>>>0;var c=Number(arguments[1])||0;c=(c<0)?Math.ceil(c):Math.floor(c);if(c<0){c+=a}for(;c<a;c++){if(c in this&&this[c]===b){return c}}return -1}}function q(a){return document.querySelector(a)}function qa(a){return document.querySelectorAll(a)}var new_event_support=1;try{test_event=new Event("t")}catch(err){new_event_support=0}function sliderElement(a){el=eventElement(a);if(hasClass(el,"slider-container")){return el.querySelector(".slider")}else{container=parentByClass(el,"slider-container");return container&&container.querySelector(".slider")}}var last_animation=0;swipeEvents=function(d){var b,a;d.addEventListener("touchstart",c);function c(g){var f=g.touches;if(f&&f.length){b=f[0].pageX;a=f[0].pageY;d.addEventListener("touchmove",e)}}function e(k){var j=k.touches;if(j&&j.length){var g=b-j[0].pageX;var f=a-j[0].pageY;delta=(Math.abs(g)>Math.abs(f))?g:f;if((hasClass(sliderElement(k),"vertical")?(Math.abs(f)<Math.abs(g)):(Math.abs(g)<Math.abs(f)))&&!q(".slider.lightbox")){return}k.preventDefault();if(Math.abs(delta)>50){if(new_event_support){var h=new Event((delta>=50)?"swipeLeft":"swipeRight");d.dispatchEvent(h)}else{initScroll(k,-1*delta)}d.removeEventListener("touchmove",e)}}}};initScroll=function(a,b){deltaOfInterest=b;timeNow=new Date().getTime();if((timeNow-last_animation)<800){a.preventDefault();return}slide(sliderElement(a),(deltaOfInterest<0)?"right":"left");last_animation=timeNow};mouseWheelHandler=function(a){deltaX=(a.deltaX*-10)||a.wheelDeltaX||-a.detail;deltaY=(a.deltaY*-10)||a.wheelDeltaY||-a.detail;if(Math.abs(hasClass(sliderElement(a),"vertical")?deltaY:deltaX)>50){a.preventDefault();initScroll(a,(Math.abs(deltaX)>Math.abs(deltaY))?deltaX:deltaY)}};function mouseEvents(b,a){if(!("onwheel" in window)){return}if(a=="off"){b.parentNode.removeEventListener("wheel",mouseWheelHandler)}else{b.parentNode.addEventListener("wheel",mouseWheelHandler)}}function whichAnimationEvent(){el=document.createElement("fakeelement");var a={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(t in a){if(el.style[t]!==undefined){return a[t]}}}var animationEvent=whichAnimationEvent();var prefix=animationEvent=="webkitAnimationEnd"?"-webkit-":"";var slide_duration=400;function slide(a,e,d){if(window.sliderTimeout){clearTimeout(window.sliderTimeout)}var c=parentByClass(a,"slider-container").querySelector(".slider");index=old_index=thisIndex(c.parentNode.querySelector(".slider-nav a.active"));if(e=="index"){index=d||thisIndex(a)}if(e=="right"){if(index==(c.children.length-1)){index=0
}else{index++}}if(e=="left"){if(index==0){index=c.children.length-1}else{index--}}if(!hasClass(c,"vertical")){c.style.cssText="height: "+c.offsetHeight+"px !important"}removeClass(c.parentNode.querySelector(".slider-nav .active"),"active");addClass(c.parentNode.querySelector(".slider-nav span").children[index],"active");if(typeof document.body.style.transition=="string"){direction=hasClass(c,"vertical")?"translateY":"translateX";mouseEvents(a.parentNode,"off");if(!d){addClass(q("html"),"disable-hover")}addClass(c.children[index],"visible");i=Math.min(old_index,index)-1;while(i++<Math.abs(index-old_index)){addClass(c.children[i],"visible")}var b=document.createElement("style");b.innerHTML="@"+prefix+"keyframes slide-index { from { "+prefix+"transform: "+direction+"("+((index<old_index)?(index-old_index):0)+"00%); } to { "+prefix+"transform: "+direction+"("+((index<old_index)?0:(index-old_index)*-1)+"00%); }}";document.getElementsByTagName("head")[0].appendChild(b);addClass(b,"slide-index-style");addClass(c,"slide-index");c.addEventListener(animationEvent,function(f){c.removeEventListener(animationEvent,arguments.callee);forEach(c.querySelectorAll(".visible"),function(g){removeClass(g,"visible")});addClass(c.children[index],"visible");removeClass(c,"slide-index");c.style.cssText=prefix+"transform: "+direction+"(-"+index+"00%);";q(".slide-index-style").outerHTML="";removeClass(q("html"),"disable-hover");if(hasClass(c,"lightbox")){populateLightbox(c,index)}document.onkeyup=sliderKeyboard;mouseEvents(c)},false)}else{c.style.cssText=(hasClass(c,"vertical")?"top":"left")+": -"+index+"00%";if(hasClass(c,"lightbox")){populateLightbox(c,index)}}}function sliderKeyboard(a){a=a||window.event;if(typeof a=="undefined"){return}el=a.target||a.srcElement;if(q(".slider")){tag=el.tagName.toLowerCase();if(tag!="input"&&tag!="textarea"){el=q(".slider.full-screen")||q(".slider.lightbox")||q(".slider");switch(a.which){case 38:if(!hasClass(el,"vertical")){return}case 37:slide(el,"left");break;case 40:if(!hasClass(el,"vertical")){return}case 39:slide(el,"right");break;default:return}}}}function makeSlider(c,d){if(c.children.length<2){return c}addClass(c,"slider");c.insertAdjacentHTML("beforebegin",'<div class="slider-container"></div>');container=c.previousSibling;transferClass(c,container,"vertical");transferClass(c,container,"full-screen");if(hasClass(c,"full-screen")){addClass(q("html"),"nooverflow")}container.insertAdjacentHTML("afterbegin",'<a class="slider-arrow left"></a>'+c.outerHTML+'<a class="slider-arrow right"></a><div class="slider-nav"><div><span></span></div></div>');container.nextSibling.outerHTML="";c=container.querySelector(".slider");for(var b=0;b<c.children.length;b++){if(c.children[b].querySelector(".thumbnail")){slider_nav=c.parentNode.querySelector(".slider-nav");addClass(slider_nav,"thumbnails");addClass(slider_nav.querySelector("span"),"row");slider_nav.querySelector("span").insertAdjacentHTML("beforeend",(!b?'<a class="active">':"<a>")+c.children[b].querySelector(".thumbnail").innerHTML+"</a>");if(hasClass(c,"vertical")){addClass(c.parentNode,"vertical-thumbnails")}}else{container.querySelector(".slider-nav span").insertAdjacentHTML("beforeend",(!b?'<a class="active">':"<a>")+(b+1)+"</a>")}container.querySelector(".slider-nav span").lastChild.onclick=function(f){slide(eventElement(f),"index")}}container.querySelector(".slider-arrow.left").onclick=function(f){slide(eventElement(f),"left")};container.querySelector(".slider-arrow.right").onclick=function(f){slide(eventElement(f),"right")};if(d){slide(c,"index",d)}document.onkeyup=sliderKeyboard;mouseEvents(c);if("ontouchstart" in window){swipeEvents(c.parentNode);c.parentNode.addEventListener("swipeLeft",function(e){c=sliderElement(e);slide(c,"right")});c.parentNode.addEventListener("swipeRight",function(e){c=sliderElement(e);slide(c,"left")})}if(c.getAttribute("data-autoslide")){function a(){slide(c,"right");window.sliderTimeout=setTimeout(a,1000*c.getAttribute("data-autoslide"))}setTimeout(a,1000*c.getAttribute("data-autoslide"))}return c}forEach(".slider",function(a){makeSlider(a)});